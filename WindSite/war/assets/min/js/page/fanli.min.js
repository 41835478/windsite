var TaobaoConstants={URL:"/router/taobao",SECRET:"",API_KEY:"",APIKEY:"api_key",METHOD:"method",SESSION:"session",SIGN:"sign",TIMESTAMP:"timestamp",FORMAT:"format",VERSION:"v",ERROR_RSP:"error_response",ERROR_CODE:"code",ERROR_MSG:"msg",SUB_ERROR_CODE:"sub_code",SUB_ERROR_MSG:"sub_msg",RSP:"rsp",TOTALRESULTS:"totalResults"};function WindSender(a,l){this.url=a;this.load=function(m,n,e,d){$.ajax({url:this.url,type:m,data:n,dataType:"json",beforeSend:function(b){b.setRequestHeader("WindType","AJAX")},error:function(){l||alert("\u7f51\u7edc\u9519\u8bef!\u8bf7\u91cd\u8bd5");d&&typeof d=="function"&&d()},success:function(b){b=new WindResponse(b);if(!b.isSuccess()&&(b.errorCode==27||b.errorCode==100))document.location.href="/router/site/redirect";else e(b)}})}};function WindResponse(a){this.subMsg=this.subCode=this.msg=this.errorCode=null;this.body={};this.isSuccess=function(){return null==this.errorCode};if(a!=null){if(a.hasOwnProperty(TaobaoConstants.ERROR_RSP)){this.errorCode=a[TaobaoConstants.ERROR_RSP][TaobaoConstants.ERROR_CODE];this.msg=a[TaobaoConstants.ERROR_RSP][TaobaoConstants.ERROR_MSG];if(a[TaobaoConstants.ERROR_RSP].hasOwnProperty(TaobaoConstants.SUB_ERROR_CODE)){this.subCode=a[TaobaoConstants.ERROR_RSP][TaobaoConstants.SUB_ERROR_CODE];this.subMsg=
a[TaobaoConstants.ERROR_RSP][TaobaoConstants.SUB_ERROR_MSG]}}this.msg=convertError(parseInt(this.errorCode),this.msg);this.body=a}}
function convertError(a,l){switch(a){case 3:return"\u56fe\u7247\u4e0a\u4f20\u5931\u8d25";case 4:return"\u7528\u6237\u8c03\u7528\u6b21\u6570\u8d85\u9650";case 5:return"\u4f1a\u8bdd\u8c03\u7528\u6b21\u6570\u8d85\u9650";case 6:return"\u5408\u4f5c\u4f19\u4f34\u8c03\u7528\u6b21\u6570\u8d85\u9650";case 7:return"\u5e94\u7528\u8c03\u7528\u6b21\u6570\u8d85\u9650";case 8:return"\u5e94\u7528\u8c03\u7528\u9891\u7387\u8d85\u9650";case 9:return"HTTP\u65b9\u6cd5\u88ab\u7981\u6b62\uff08\u8bf7\u7528\u5927\u5199\u7684POST\u6216GET\uff09";
case 10:return"\u670d\u52a1\u4e0d\u53ef\u7528";case 11:return"\u5f00\u53d1\u8005\u6743\u9650\u4e0d\u8db3";case 12:return"\u7528\u6237\u6743\u9650\u4e0d\u8db3";case 13:return"\u5408\u4f5c\u4f19\u4f34\u6743\u9650\u4e0d\u8db3";case 15:return"\u6dd8\u5b9d\u8fdc\u7a0b\u670d\u52a1\u51fa\u9519,\u8bf7\u91cd\u8bd5";case 21:return"\u7f3a\u5c11\u65b9\u6cd5\u540d\u53c2\u6570";case 22:return"\u4e0d\u5b58\u5728\u7684\u65b9\u6cd5\u540d";case 23:return"\u975e\u6cd5\u6570\u636e\u683c\u5f0f";case 24:return"\u7f3a\u5c11\u7b7e\u540d\u53c2\u6570";
case 25:return"\u975e\u6cd5\u7b7e\u540d";case 26:return"\u7f3a\u5c11SessionKey\u53c2\u6570";case 27:return"\u65e0\u6548\u7684SessionKey\u53c2\u6570";case 28:return"\u7f3a\u5c11AppKey\u53c2\u6570";case 29:return"\u975e\u6cd5\u7684AppKe\u53c2\u6570";case 30:return"\u7f3a\u5c11\u65f6\u95f4\u6233\u53c2\u6570";case 31:return"\u975e\u6cd5\u7684\u65f6\u95f4\u6233\u53c2\u6570";case 32:return"\u7f3a\u5c11\u7248\u672c\u53c2\u6570";case 33:return"\u975e\u6cd5\u7684\u7248\u672c\u53c2\u6570";case 34:return"\u4e0d\u652f\u6301\u7684\u7248\u672c\u53f7";
case 40:return"\u7f3a\u5c11\u5fc5\u9009\u53c2\u6570";case 41:return"\u975e\u6cd5\u7684\u53c2\u6570";case 42:return"\u8bf7\u6c42\u88ab\u7981\u6b62";case 43:return"\u53c2\u6570\u9519\u8bef"}return l};(function(a){function l(e,d){var b=this,i=e.add(b),h=a(window),c,f,p,j=a.tools.expose&&(d.mask||d.expose),k=Math.random().toString().slice(10);if(j){if(typeof j=="string")j={color:j};j.closeOnClick=j.closeOnEsc=false}var r=d.target||e.attr("rel");f=r?a(r):e;if(!f.length)throw"Could not find Overlay: "+r;e&&e.index(f)==-1&&e.click(function(g){b.load(g);return g.preventDefault()});a.extend(b,{load:function(g){if(b.isOpened())return b;var o=n[d.effect];if(!o)throw'Overlay: cannot find effect : "'+d.effect+
'"';d.oneInstance&&a.each(m,function(){this.close(g)});g=g||a.Event();g.type="onBeforeLoad";i.trigger(g);if(g.isDefaultPrevented())return b;p=true;j&&a(f).expose(j);var q=d.top,t=d.left,u=f.outerWidth({margin:true}),v=f.outerHeight({margin:true});if(typeof q=="string")q=q=="center"?Math.max((h.height()-v)/2,0):parseInt(q,10)/100*h.height();if(t=="center")t=Math.max((h.width()-u)/2,0);o[0].call(b,{top:q,left:t},function(){if(p){g.type="onLoad";i.trigger(g)}});j&&d.closeOnClick&&a.mask.getMask().one("click",
b.close);d.closeOnClick&&a(document).bind("click."+k,function(s){a(s.target).parents(f).length||b.close(s)});d.closeOnEsc&&a(document).bind("keydown."+k,function(s){s.keyCode==27&&b.close(s)});return b},close:function(g){if(!b.isOpened())return b;g=g||a.Event();g.type="onBeforeClose";i.trigger(g);if(!g.isDefaultPrevented()){p=false;n[d.effect][1].call(b,function(){g.type="onClose";i.trigger(g)});a(document).unbind("click."+k).unbind("keydown."+k);j&&a.mask.close();return b}},getOverlay:function(){return f},
getTrigger:function(){return e},getClosers:function(){return c},isOpened:function(){return p},getConf:function(){return d}});a.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),function(g,o){a.isFunction(d[o])&&a(b).bind(o,d[o]);b[o]=function(q){q&&a(b).bind(o,q);return b}});c=f.find(d.close||".close");if(!c.length&&!d.close){c=a('<a class="close"></a>');f.prepend(c)}c.click(function(g){b.close(g)});d.load&&b.load()}a.tools=a.tools||{version:"1.2.5"};a.tools.overlay={addEffect:function(e,
d,b){n[e]=[d,b]},conf:{close:null,closeOnClick:true,closeOnEsc:true,closeSpeed:"fast",effect:"default",fixed:!a.browser.msie||a.browser.version>6,left:"center",load:false,mask:null,oneInstance:true,speed:"normal",target:null,top:"10%"}};var m=[],n={};a.tools.overlay.addEffect("default",function(e,d){var b=this.getConf(),i=a(window);if(!b.fixed){e.top+=i.scrollTop();e.left+=i.scrollLeft()}e.position=b.fixed?"fixed":"absolute";this.getOverlay().css(e).fadeIn(b.speed,d)},function(e){this.getOverlay().fadeOut(this.getConf().closeSpeed,
e)});a.fn.overlay=function(e){var d=this.data("overlay");if(d)return d;if(a.isFunction(e))e={onBeforeLoad:e};e=a.extend(true,{},a.tools.overlay.conf,e);this.each(function(){d=new l(a(this),e);m.push(d);a(this).data("overlay",d)});return e.api?d:this}})(jQuery);
(function(a){function l(b){var i=b.offset();return{top:i.top+b.height()/2,left:i.left+b.width()/2}}function m(b,i){var h=this.getOverlay(),c=this.getConf(),f=this.getTrigger(),p=this,j=h.outerWidth({margin:true}),k=h.data("img"),r=c.fixed?"fixed":"absolute";if(!k){k=h.css("backgroundImage");if(!k)throw"background-image CSS property not set for overlay";k=k.slice(k.indexOf("(")+1,k.indexOf(")")).replace(/\"/g,"");h.css("backgroundImage","none");k=a('<img src="'+k+'"/>');k.css({border:0,display:"none"}).width(j);
a("body").append(k);h.data("img",k)}var g=c.start.top||Math.round(d.height()/2),o=c.start.left||Math.round(d.width()/2);if(f){f=l(f);g=f.top;o=f.left}if(c.fixed){g-=d.scrollTop();o-=d.scrollLeft()}else{b.top+=d.scrollTop();b.left+=d.scrollLeft()}k.css({position:"absolute",top:g,left:o,width:0,zIndex:c.zIndex}).show();b.position=r;h.css(b);k.animate({top:h.css("top"),left:h.css("left"),width:j},c.speed,function(){h.css("zIndex",c.zIndex+1).fadeIn(c.fadeInSpeed,function(){p.isOpened()&&!a(this).index(h)?
i.call():h.hide()})}).css("position",r)}function n(b){var i=this.getOverlay().hide(),h=this.getConf(),c=this.getTrigger();i=i.data("img");var f={top:h.start.top,left:h.start.left,width:0};c&&a.extend(f,l(c));h.fixed&&i.css({position:"absolute"}).animate({top:"+="+d.scrollTop(),left:"+="+d.scrollLeft()},0);i.animate(f,h.closeSpeed,b)}var e=a.tools.overlay,d=a(window);a.extend(e.conf,{start:{top:null,left:null},fadeInSpeed:"fast",zIndex:9999});e.addEffect("apple",m,n)})(jQuery);(function(a){function l(){if(a.browser.msie){var c=a(document).height(),f=a(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c-f<20?f:c]}return[a(document).width(),a(document).height()]}function m(c){if(c)return c.call(a.mask)}a.tools=a.tools||{version:"1.2.5"};var n;n=a.tools.expose={conf:{maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",closeOnClick:true,closeOnEsc:true,zIndex:9998,opacity:0.8,startOpacity:0,color:"#fff",onLoad:null,
onClose:null}};var e,d,b,i,h;a.mask={load:function(c,f){if(b)return this;if(typeof c=="string")c={color:c};c=c||i;i=c=a.extend(a.extend({},n.conf),c);e=a("#"+c.maskId);if(!e.length){e=a("<div/>").attr("id",c.maskId);a("body").append(e)}var p=l();e.css({position:"absolute",top:0,left:0,width:p[0],height:p[1],display:"none",opacity:c.startOpacity,zIndex:c.zIndex});c.color&&e.css("backgroundColor",c.color);if(m(c.onBeforeLoad)===false)return this;c.closeOnEsc&&a(document).bind("keydown.mask",function(j){j.keyCode==
27&&a.mask.close(j)});c.closeOnClick&&e.bind("click.mask",function(j){a.mask.close(j)});a(window).bind("resize.mask",function(){a.mask.fit()});if(f&&f.length){h=f.eq(0).css("zIndex");a.each(f,function(){var j=a(this);/relative|absolute|fixed/i.test(j.css("position"))||j.css("position","relative")});d=f.css({zIndex:Math.max(c.zIndex+1,h=="auto"?0:h)})}e.css({display:"block"}).fadeTo(c.loadSpeed,c.opacity,function(){a.mask.fit();m(c.onLoad);b="full"});b=true;return this},close:function(){if(b){if(m(i.onBeforeClose)===
false)return this;e.fadeOut(i.closeSpeed,function(){m(i.onClose);d&&d.css({zIndex:h});b=false});a(document).unbind("keydown.mask");e.unbind("click.mask");a(window).unbind("resize.mask")}return this},fit:function(){if(b){var c=l();e.css({width:c[0],height:c[1]})}},getMask:function(){return e},isLoaded:function(c){return c?b=="full":b},getConf:function(){return i},getExposed:function(){return d}};a.fn.mask=function(c){a.mask.load(c);return this};a.fn.expose=function(c){a.mask.load(c,this);return this}})(jQuery);$(function(){$("#J_FanliLoginBox").overlay({mask:{color:"#000",opacity:0.5},closeOnClick:false,effect:"apple",top:"20%"});$("#J_FanliLoginButton").hover(function(){$(this).addClass("btn-ok-hover")},function(){$(this).removeClass("btn-ok-hover")}).click(function(){if(!$(this).hasClass("btn-ok-disabled")){var a=$("#J_Username").val(),l=$("#J_Pwd").val();if(a)if(l){$(this).addClass("btn-ok-disabled");loginFanliMember(a,l,$(this).attr("data-url"))}else{alert("\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a");$(this).removeClass("btn-ok-disabled")}else{alert("\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a");
$(this).removeClass("btn-ok-disabled")}}})});function loginFanliMember(a,l,m){(new WindSender("/router/fanli/loginfl")).load("POST",{username:a,password:l},function(n){if(n.isSuccess())document.location.href=m?m:document.location.href;else alert(n.msg);$("#J_FanliLoginButton").removeClass("btn-ok-disabled")})};